#given: dataset, feature ranking, number of features in reduced dataset
#output: reduced dataset
import sys
import pandas,numpy,scipy

infile = sys.argv[1]
dataframe= pandas.read_csv(infile)
(a,b)=numpy.shape(dataframe)
print(a,b)
feature=dataframe.iloc[:,:-1]
target =dataframe.iloc[:,-1]

ranking=[85,170,0,251,191,138,239,254,168,42,172,162,202,87,117,93,213,178
,169,43,154,143,248,106,62,227,243,249,252,166,234,174,60,28,193,126,
63,231,159,207,21,120,135,124,195,199,56,4,187,131,64,240,224,15
,225,14,30,7,241,31,32,16,253,48,12,112,127,223,96,1,247,8
,24,2,3,6,128,129,192,238,250,175,185,155,179,186,171,77,53,83
,149,89,81,188,122,167,203,114,190,156,235,201,59,233,158,242,236,206
,230,147,101,212,86,105,150,45,41,146,33,176,177,198,197,34,180,196
,194,181,27,182,183,29,184,189,26,25,67,204,18,228,229,17,232,13
,226,237,10,9,244,245,246,5,11,19,20,222,205,23,208,209,210,211
,22,214,215,216,217,218,219,220,221,200,35,161,36,95,97,98,99,100
,102,103,94,104,107,108,109,110,111,57,113,58,92,91,90,68,69,70
,71,72,73,74,75,76,78,79,80,82,84,65,61,88,115,116,55,118
,144,145,148,151,152,153,157,44,160,66,163,164,165,40,39,38,37,46
,173,142,140,119,54,121,123,125,52,51,130,50,132,133,134,49,136,137
,47,139,141,255]
selectionvalue=10
temp=ranking[0:selectionvalue]
datanew=feature.iloc[:,temp]

#if we want to convert the class




tmp=[datanew,target]
result=pandas.concat(tmp,axis=1)
outfile="reduced_"+infile
result.to_csv(outfile,index=False)